(function(window){"use strict";var Backbone=window.Backbone,_=window._,$=window.$;Backbone.Pagination={enable:function(collection,config){_.extend(collection,Backbone.Pagination.Paginator)if(config){_.extend(collection.paginationConfig,config)}}};Backbone.Pagination.Paginator={currentPage:0,paginationConfig:{pretty:false,ipp:20,page_attr:'page',ipp_attr:'ipp',fetchOptions:{}},_getFetchOptions:function(){var paginationOptions={data:{}}paginationOptions["data"][this.paginationConfig.page_attr]=this.currentPage;paginationOptions["data"][this.paginationConfig.ipp_attr]=this.paginationConfig.ipp;return $.extend(paginationOptions,this.paginationConfig.fetchOptions)},loadPage:function(page,customOptions){this.currentPage=(page>0)?page:1;this.fetch($.extend(this._getFetchOptions(),customOptions))},nextPage:function(customOptions){if(customOptions==null){customOptions={}}this.loadPage(this.currentPage+1,customOptions)},previousPage:function(customOptions){if(customOptions==null){customOptions={}}this.loadPage(this.currentPage-1,customOptions)},resetPagination:function(){this.currentPage=0}}Backbone.PaginatedCollection=Backbone.Collection.extend(Backbone.Pagination.Paginator)})(this);
